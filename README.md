<a id="x-28DOCS-2FDOCS-3A-40README-2040ANTS-DOC-2FLOCATIVES-3ASECTION-29"></a>

# GitHub Action to Build Documentation for a Common Lisp Library

This is a Github Action can be used to build docs and update `gh-pages` branch used to
host static site using [GitHub Pages][9f4c].

It should be used after the [setup-lisp][8de1] action.

<a id="x-28DOCS-2FDOCS-3A-3A-40FEATURES-2040ANTS-DOC-2FLOCATIVES-3ASECTION-29"></a>

## What this action does for you?

* It runs [docs-builder][f2be] to build `HTML` docs.
* If any there are any changes, it uploads them into the `gh-pages` branch.
* Also, it pushes any other changes to the current branch. This way, `README`.md
  is updated when you are using [MGL-PAX][ecfb]
  or [40ANTS-DOC][f503]
  as a docs-builder.

<a id="x-28DOCS-2FDOCS-3A-3A-40TYPICAL-USAGE-2040ANTS-DOC-2FLOCATIVES-3ASECTION-29"></a>

## A typical usage

Here is how a minimal GitHub Workflow might look like.

Create a `.github/workflows/docs.yml` file with following content:

```yaml
name: 'Docs'

on:
  # This will run tests on pushes
  # to master branch and every monday:
  push:
    branches:
      - 'main'
      - 'master'
  schedule:
    - cron:  '0 10 * * 1'

jobs:
  build-docs:
    runs-on: ubuntu-latest
    
    env:
      LISP: sbcl-bin

    steps:
      - uses: actions/checkout@v1
      - uses: 40ants/setup-lisp@v1
      - uses: 40ants/build-docs@v1
        with:
          asdf-system: my-system
```
The part, corresponding to an action call is:

```yaml
- uses: 40ants/build-docs@v1
  with:
    asdf-system: my-system
```
Here we provided a system name `my-system`, and
action will figure out how to build it docs, because
it uses smart guesser from
[docs-builder][f2be].

You should check if the documentation builder is supported
by `docs-builder` and if not, you can easily to add this support.

<a id="x-28DOCS-2FDOCS-3A-3A-40ROADMAP-2040ANTS-DOC-2FLOCATIVES-3ASECTION-29"></a>

## Roadmap

* Add more documentation builders to `docs-builder`.
* Vendor all dependencies, to make action more reliable and secure.


[f2be]: https://40ants.com/docs-builder/
[8de1]: https://40ants.com/setup-lisp/
[f503]: https://github.com/40ants/doc
[ecfb]: https://github.com/cl-doc-systems/mgl-pax
[9f4c]: https://pages.github.com/

* * *
###### [generated by [40ANTS-DOC](https://40ants.com/doc/)]
